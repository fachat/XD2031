<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>XD2031 firmware: ieee.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XD2031 firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ieee.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &quot;ieeehw.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="errormsg_8h_source.html">errormsg.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cmd_8h_source.html">cmd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="channel_8h_source.html">channel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="bus_8h_source.html">bus.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="led_8h_source.html">led.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ieee.c:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c__incl.png" border="0" usemap="#ieee_8c" alt=""/></div>
<map name="ieee_8c" id="ieee_8c">
<area shape="rect" id="node7" href="errormsg_8h.html" title="errormsg.h" alt="" coords="156,315,241,343"/><area shape="rect" id="node15" href="cmd_8h.html" title="cmd.h" alt="" coords="243,238,300,266"/><area shape="rect" id="node23" href="channel_8h.html" title="channel.h" alt="" coords="403,161,481,189"/><area shape="rect" id="node46" href="bus_8h.html" title="bus.h" alt="" coords="310,161,364,189"/><area shape="rect" id="node49" href="debug_8h.html" title="debug.h" alt="" coords="495,83,564,111"/><area shape="rect" id="node58" href="led_8h.html" title="led.h" alt="" coords="588,83,637,111"/><area shape="rect" id="node13" href="errors_8h.html" title="errors.h" alt="" coords="316,470,383,498"/><area shape="rect" id="node19" href="rtconfig_8h.html" title="rtconfig.h" alt="" coords="317,315,392,343"/><area shape="rect" id="node27" href="packet_8h.html" title="packet.h" alt="" coords="481,315,552,343"/><area shape="rect" id="node41" href="provider_8h.html" title="provider.h" alt="" coords="512,238,591,266"/><area shape="rect" id="node31" href="wireformat_8h.html" title="wireformat.h" alt="" coords="367,393,461,421"/><area shape="rect" id="node34" href="delay_8h.html" title="delay.h" alt="" coords="486,393,548,421"/><area shape="rect" id="node36" href="delayhw_8h.html" title="delayhw.h" alt="" coords="441,470,521,498"/><area shape="rect" id="node51" href="term_8h.html" title="term.h" alt="" coords="514,161,573,189"/><area shape="rect" id="node54" href="mem_8h.html" title="mem.h" alt="" coords="620,161,681,189"/></map>
</div>
</div>
<p><a href="ieee_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0177a8a866378a52f8353fcb0ac38f07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#a0177a8a866378a52f8353fcb0ac38f07">isListening</a>()&#160;&#160;&#160;((<a class="el" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>&amp;0xf000)==0x2000)</td></tr>
<tr class="separator:a0177a8a866378a52f8353fcb0ac38f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d89f5eccfde0e7a4198f23b4201a87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#a19d89f5eccfde0e7a4198f23b4201a87">isTalking</a>()&#160;&#160;&#160;((<a class="el" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>&amp;0xf000)==0x4000)</td></tr>
<tr class="separator:a19d89f5eccfde0e7a4198f23b4201a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab59fb97f896fd24eb381d95aef1f098"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#aab59fb97f896fd24eb381d95aef1f098">talkloop</a> (void)</td></tr>
<tr class="separator:aab59fb97f896fd24eb381d95aef1f098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4701558a7300ca20b3519287feb05bc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#a4701558a7300ca20b3519287feb05bc1">listenloop</a> (void)</td></tr>
<tr class="separator:a4701558a7300ca20b3519287feb05bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2c013e9a773a7b86691d19a3780b57"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#a6a2c013e9a773a7b86691d19a3780b57">liecin</a> (int *c)</td></tr>
<tr class="separator:a6a2c013e9a773a7b86691d19a3780b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47341f8a6f71378581fb6a67ece35ed2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#a47341f8a6f71378581fb6a67ece35ed2">ieee_mainloop_iteration</a> (void)</td></tr>
<tr class="separator:a47341f8a6f71378581fb6a67ece35ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6695d7d596b8224f60a073159b9a39a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#ad6695d7d596b8224f60a073159b9a39a">ieeehwi_init</a> (uint8_t deviceno)</td></tr>
<tr class="separator:ad6695d7d596b8224f60a073159b9a39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad75cc85b4588ff490a11c08232d0fc96"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbus__t.html">bus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a></td></tr>
<tr class="separator:ad75cc85b4588ff490a11c08232d0fc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af360e144b776e75e965032779bd0172f"><td class="memItemLeft" align="right" valign="top">static int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> = 0</td></tr>
<tr class="separator:af360e144b776e75e965032779bd0172f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a0177a8a866378a52f8353fcb0ac38f07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define isListening</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>&amp;0xf000)==0x2000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00046">46</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00211">ieee_mainloop_iteration()</a>.</p>

</div>
</div>
<a class="anchor" id="a19d89f5eccfde0e7a4198f23b4201a87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define isTalking</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>&amp;0xf000)==0x4000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00047">47</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00211">ieee_mainloop_iteration()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a47341f8a6f71378581fb6a67ece35ed2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ieee_mainloop_iteration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00211">211</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>References <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00170">atnahi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00175">atnalo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00056">atnishi()</a>, <a class="el" href="bus_8c_source.html#l00359">bus_attention()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00130">davishi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00126">davislo()</a>, <a class="el" href="debug_8h_source.html#l00041">debug_flush</a>, <a class="el" href="debug_8h_source.html#l00045">debug_printf</a>, <a class="el" href="debug_8h_source.html#l00038">debug_putc()</a>, <a class="el" href="debug_8h_source.html#l00039">debug_putcrlf()</a>, <a class="el" href="pet_s_d_2ieeehw_8c_source.html#l00069">ieeehw_setup()</a>, <a class="el" href="ieee_8c_source.html#l00046">isListening</a>, <a class="el" href="ieee_8c_source.html#l00047">isTalking</a>, <a class="el" href="ieee_8c_source.html#l00103">listenloop()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00073">ndachi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00063">ndaclo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00086">nrfdhi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00068">nrfdlo()</a>, <a class="el" href="ieee_8c_source.html#l00053">par_status</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00195">rdd()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00225">setrx()</a>, and <a class="el" href="ieee_8c_source.html#l00121">talkloop()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00082">main()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">        <span class="keywordtype">int</span> cmd = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// only do something on ATN low</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f">atnishi</a>()) {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// set receive mode</span></div>
<div class="line">    <a class="code" href="pet_s_d_2ieeehw_8h.html#a59b35866586d272493e64f1eee1abdf6">setrx</a>();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>=0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* Loop to get commands during ATN lo ----------------------------*/</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">while</span>(1)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a63b568de20fee08b85554f43cddd6087">ndaclo</a>();</div>
<div class="line">        <span class="comment">// acknowledge ATN</span></div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a7e464a7734f1d2416a89de7f10da5395">atnalo</a>();</div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5">nrfdhi</a>();</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* wait for DAV lo */</span></div>
<div class="line">            <span class="keywordflow">do</span> {</div>
<div class="line">                <span class="keywordflow">if</span>(<a class="code" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f">atnishi</a>()) {</div>
<div class="line">            <span class="comment">// ATN hi, end loop</span></div>
<div class="line">                    <span class="keywordflow">goto</span> cmd;</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">while</span>(<a class="code" href="pet_s_d_2ieeehw_8h.html#a65acc4d7d20615c2afa83c766fc7066d">davishi</a>());</div>
<div class="line">    </div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee">nrfdlo</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// read data</span></div>
<div class="line">            cmd=<a class="code" href="pet_s_d_2ieeehw_8h.html#a032ef38b532ab1c8c6460c50d64e4e90">rdd</a>();</div>
<div class="line">        <span class="comment">// ack with ndac hi</span></div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b">ndachi</a>();</div>
<div class="line"></div>
<div class="line">            <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> = <a class="code" href="bus_8c.html#a5ec5bfd204977b488496697cc083664a">bus_attention</a>(&amp;<a class="code" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a>, cmd);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// wait until DAV goes up</span></div>
<div class="line"><span class="comment">//      do {</span></div>
<div class="line"><span class="comment">//      if (atnishi()) {</span></div>
<div class="line"><span class="comment">//          // ATN hi, end loop</span></div>
<div class="line"><span class="comment">//          goto cmd;</span></div>
<div class="line"><span class="comment">//      }</span></div>
<div class="line"><span class="comment">//      }</span></div>
<div class="line">            <span class="keywordflow">while</span>(<a class="code" href="pet_s_d_2ieeehw_8h.html#ac6a13b081235e6c1a3296e007dfa54f2">davislo</a>());</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* ---------------------------------------------------------------*/</span></div>
<div class="line">    <span class="comment">// ATN is high now</span></div>
<div class="line">    <span class="comment">// parallelattention has set status what to do</span></div>
<div class="line">    <span class="comment">// now transfer the data</span></div>
<div class="line">cmd:</div>
<div class="line"><span class="preprocessor">#ifdef DEBUG_BUS</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="debug_8h.html#a1995b1e018007e8176ca62be5ca5559d">debug_printf</a>(<span class="stringliteral">&quot;stat=%04x&quot;</span>, <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a>); <a class="code" href="debug_8h.html#af964f239c289f93b082b6bb75f884fa2">debug_putcrlf</a>();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="ieee_8c.html#a0177a8a866378a52f8353fcb0ac38f07">isListening</a>())</div>
<div class="line">        {</div>
<div class="line">        <span class="comment">// make sure nrfd stays lo...</span></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee">nrfdlo</a>();</div>
<div class="line">        <span class="comment">// ... when we un-acknowlege the ATN</span></div>
<div class="line">        <span class="comment">// (which is already hi anyway)</span></div>
<div class="line">                <a class="code" href="pet_s_d_2ieeehw_8h.html#ae7f24f6cba31c69aa6b44ee3885198be">atnahi</a>();</div>
<div class="line">                <a class="code" href="ieee_8c.html#a4701558a7300ca20b3519287feb05bc1">listenloop</a>();</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">                <a class="code" href="pet_s_d_2ieeehw_8h.html#ae7f24f6cba31c69aa6b44ee3885198be">atnahi</a>();</div>
<div class="line">                <a class="code" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5">nrfdhi</a>();</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span>(<a class="code" href="ieee_8c.html#a19d89f5eccfde0e7a4198f23b4201a87">isTalking</a>()) {</div>
<div class="line">                    <a class="code" href="ieee_8c.html#aab59fb97f896fd24eb381d95aef1f098">talkloop</a>();</div>
<div class="line">                }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="pet_s_d_2ieeehw_8c.html#aa76fcba9cae913db12202b269de50fc1">ieeehw_setup</a>();</div>
<div class="line"><span class="preprocessor">#ifdef DEBUG_BUS</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d">debug_putc</a>(<span class="charliteral">&#39;X&#39;</span>); <a class="code" href="debug_8h.html#a341c655e62477257e0e36ddecf00e2d3">debug_flush</a>();</div>
<div class="line"><span class="preprocessor">#endif  </span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_cgraph.png" border="0" usemap="#ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_cgraph" alt=""/></div>
<map name="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_cgraph" id="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_cgraph">
<area shape="rect" id="node3" href="pet_s_d_2ieeehw_8h.html#ae7f24f6cba31c69aa6b44ee3885198be" title="atnahi" alt="" coords="239,6,297,34"/><area shape="rect" id="node5" href="pet_s_d_2ieeehw_8h.html#a7e464a7734f1d2416a89de7f10da5395" title="atnalo" alt="" coords="391,110,449,138"/><area shape="rect" id="node7" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee" title="nrfdlo" alt="" coords="559,58,614,86"/><area shape="rect" id="node9" href="pet_s_d_2ieeehw_8h.html#a63b568de20fee08b85554f43cddd6087" title="ndaclo" alt="" coords="556,110,617,138"/><area shape="rect" id="node11" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f" title="atnishi" alt="" coords="746,1662,806,1690"/><area shape="rect" id="node13" href="bus_8c.html#a5ec5bfd204977b488496697cc083664a" title="bus_attention" alt="" coords="217,318,319,346"/><area shape="rect" id="node47" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d" title="debug_putc" alt="" coords="730,931,822,959"/><area shape="rect" id="node51" href="debug_8h.html#af964f239c289f93b082b6bb75f884fa2" title="debug_putcrlf" alt="" coords="725,737,827,765"/><area shape="rect" id="node69" href="pet_s_d_2ieeehw_8h.html#a65acc4d7d20615c2afa83c766fc7066d" title="davishi" alt="" coords="555,834,618,862"/><area shape="rect" id="node71" href="pet_s_d_2ieeehw_8h.html#ac6a13b081235e6c1a3296e007dfa54f2" title="davislo" alt="" coords="555,886,618,914"/><area shape="rect" id="node75" href="pet_s_d_2ieeehw_8c.html#aa76fcba9cae913db12202b269de50fc1" title="ieeehw_setup" alt="" coords="216,990,320,1018"/><area shape="rect" id="node77" href="ieee_8c.html#a4701558a7300ca20b3519287feb05bc1" title="listenloop" alt="" coords="229,886,307,914"/><area shape="rect" id="node82" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5" title="nrfdhi" alt="" coords="559,1146,614,1174"/><area shape="rect" id="node89" href="pet_s_d_2ieeehw_8h.html#a032ef38b532ab1c8c6460c50d64e4e90" title="rdd" alt="" coords="566,990,607,1018"/><area shape="rect" id="node91" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b" title="ndachi" alt="" coords="556,1766,617,1794"/><area shape="rect" id="node103" href="pet_s_d_2ieeehw_8h.html#a59b35866586d272493e64f1eee1abdf6" title="setrx" alt="" coords="395,1766,445,1794"/><area shape="rect" id="node111" href="ieee_8c.html#aab59fb97f896fd24eb381d95aef1f098" title="talkloop" alt="" coords="234,1402,302,1430"/><area shape="rect" id="node15" href="bus_8c.html#aa005573fc6338f79631c8fa5547b7cf5" title="bus_close" alt="" coords="546,162,627,190"/><area shape="rect" id="node26" href="bus_8c.html#a2c2d584fe64320bc811ffeb1d546b3f2" title="bus_prepare" alt="" coords="372,318,468,346"/><area shape="rect" id="node36" href="bus_8c.html#a68ec77741c71e9f01f346016e85f3e7b" title="cmd_handler" alt="" coords="371,522,469,550"/><area shape="rect" id="node67" href="ledhw_8c.html#a85fc34f47b1f802300ac61f441ca4ec8" title="led_set" alt="" coords="388,214,452,242"/><area shape="rect" id="node17" href="bus_8h.html#a95f026261f222ee259b8d615f8494ab4" title="bus_secaddr_adjust" alt="" coords="706,266,846,294"/><area shape="rect" id="node19" href="channel_8c.html#a27276c04c9964ae01dc04f436f57115b" title="channel_close" alt="" coords="723,318,829,346"/><area shape="rect" id="node23" href="channel_8c.html#a95267ccd8b077002647dcf947cccbb4d" title="channel_close_range" alt="" coords="702,162,850,190"/><area shape="rect" id="node21" href="channel_8c.html#a4f422b28ba066eb1f918ffe5b31955df" title="channel_find" alt="" coords="900,266,996,294"/><area shape="rect" id="node28" href="bus_8c.html#ab043e7626a61171d009fd5bec94ff7ec" title="bus_receivebyte" alt="" coords="527,317,646,345"/><area shape="rect" id="node32" href="errormsg_8h.html#aaa86d4da98675a27e26141f19fadc907" title="set_error" alt="" coords="739,599,813,627"/><area shape="rect" id="node38" href="bus_8c.html#a66ba5b15cb16106a8060999ab65de737" title="_cmd_callback" alt="" coords="532,522,641,550"/><area shape="rect" id="node42" href="channel_8c.html#a0e2a982477e7730e6d25854edd31a259" title="channel_preload" alt="" coords="716,419,836,447"/><area shape="rect" id="node45" href="cmd_8c.html#abaf24aaeaa145dec95026ae71251be71" title="command_execute" alt="" coords="520,626,654,654"/><area shape="rect" id="node59" href="file_8c.html#a2dac9b9090b14532b84f96929c3cb2cc" title="file_open" alt="" coords="549,730,624,758"/><area shape="rect" id="node64" href="delay_8h.html#a2a467023822de9459179b4c9a13da0d1" title="serial_delay" alt="" coords="540,678,633,706"/><area shape="rect" id="node49" href="term_8c.html#ab38e92632b4de8af92283e500910a510" title="term_putc" alt="" coords="1045,879,1126,907"/><area shape="rect" id="node53" href="term_8c.html#ae337008fc505247280226b35d89757d0" title="term_flush" alt="" coords="906,737,990,765"/><area shape="rect" id="node55" href="term_8c.html#ab6dcca8982478b8e68429b51f690b568" title="term_putcrlf" alt="" coords="902,841,994,869"/><area shape="rect" id="node80" href="ieee_8c.html#a6a2c013e9a773a7b86691d19a3780b57" title="liecin" alt="" coords="394,887,446,915"/><area shape="rect" id="node96" href="bus_8c.html#a806cd6e423cc44a02552ed725d28ed7a" title="bus_sendbyte" alt="" coords="368,835,472,863"/><area shape="rect" id="node85" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf" title="atnislo" alt="" coords="557,1094,617,1122"/><area shape="rect" id="node105" href="pet_s_d_2ieeehw_8h.html#af573c7c2bfaf66f736dba5fc3f0ae11f" title="eoihi" alt="" coords="562,1610,611,1638"/><area shape="rect" id="node109" href="pet_s_d_2ieeehw_8h.html#ad3bad667457059c4f61b7c16aa5ec11a" title="telo" alt="" coords="565,1714,608,1742"/><area shape="rect" id="node114" href="pet_s_d_2ieeehw_8h.html#ab3d4a8e2f287ad43ea26242b6c1b2b20" title="settx" alt="" coords="395,1558,445,1586"/><area shape="rect" id="node116" href="pet_s_d_2ieeehw_8h.html#a7bda170819f89d279000f29713ab2c00" title="davhi" alt="" coords="560,1506,613,1534"/><area shape="rect" id="node119" href="pet_s_d_2ieeehw_8h.html#adea57fe5f4fd89bcd11f4f8ad419734b" title="ndacishi" alt="" coords="552,1375,622,1403"/><area shape="rect" id="node123" href="pet_s_d_2ieeehw_8h.html#a0f04801a30bf1acf250e8442cb4b91a1" title="nrfdislo" alt="" coords="388,1662,452,1690"/><area shape="rect" id="node126" href="pet_s_d_2ieeehw_8h.html#a282c35c59299579a110ecd7007e2a1b8" title="eoilo" alt="" coords="395,1714,445,1742"/><area shape="rect" id="node128" href="pet_s_d_2ieeehw_8h.html#a821c6ef0c9d5c114b146e9a0db1b307e" title="wrd" alt="" coords="399,1246,441,1274"/><area shape="rect" id="node130" href="pet_s_d_2ieeehw_8h.html#a522ea5a5398f0726d6f55c4c1c2c0091" title="davlo" alt="" coords="393,1350,447,1378"/><area shape="rect" id="node133" href="pet_s_d_2ieeehw_8h.html#a0fffba9ddab5e78e3c1a48bb4c62321d" title="nrfdishi" alt="" coords="388,1402,452,1430"/><area shape="rect" id="node137" href="pet_s_d_2ieeehw_8h.html#a56655f384a037e1cc6db7a6b09fb0c34" title="ndacislo" alt="" coords="385,1454,455,1482"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_icgraph.png" border="0" usemap="#ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_icgraph" alt=""/></div>
<map name="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_icgraph" id="ieee_8c_a47341f8a6f71378581fb6a67ece35ed2_icgraph">
<area shape="rect" id="node3" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="216,5,266,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6695d7d596b8224f60a073159b9a39a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ieeehwi_init </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>deviceno</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00298">298</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>References <a class="el" href="bus_8c_source.html#l00094">bus_init_bus()</a>, and <a class="el" href="pet_s_d_2ieeehw_8c_source.html#l00069">ieeehw_setup()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00082">main()</a>.</p>
<div class="fragment"><div class="line">                                    {</div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8c.html#aa76fcba9cae913db12202b269de50fc1">ieeehw_setup</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// register bus instance</span></div>
<div class="line">    <a class="code" href="bus_8c.html#a7edc003edb7970966c57720ae8aa5d14">bus_init_bus</a>(&amp;<a class="code" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_cgraph.png" border="0" usemap="#ieee_8c_ad6695d7d596b8224f60a073159b9a39a_cgraph" alt=""/></div>
<map name="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_cgraph" id="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_cgraph">
<area shape="rect" id="node3" href="bus_8c.html#a7edc003edb7970966c57720ae8aa5d14" title="bus_init_bus" alt="" coords="148,5,244,33"/><area shape="rect" id="node7" href="pet_s_d_2ieeehw_8c.html#aa76fcba9cae913db12202b269de50fc1" title="ieeehw_setup" alt="" coords="144,57,248,85"/><area shape="rect" id="node5" href="rtconfig_8c.html#a6f1986b4e174ef8a8d121e021d1abead" title="rtconfig_init" alt="" coords="297,5,386,33"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_icgraph.png" border="0" usemap="#ieee_8c_ad6695d7d596b8224f60a073159b9a39a_icgraph" alt=""/></div>
<map name="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_icgraph" id="ieee_8c_ad6695d7d596b8224f60a073159b9a39a_icgraph">
<area shape="rect" id="node3" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="144,5,194,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a2c013e9a773a7b86691d19a3780b57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t liecin </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00061">61</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>References <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00052">atnislo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00130">davishi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00126">davislo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00040">E_ATN</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00041">E_EOI</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00152">eoiishi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00073">ndachi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00063">ndaclo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00086">nrfdhi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00068">nrfdlo()</a>, and <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00195">rdd()</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00103">listenloop()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">        <span class="keywordtype">int</span> er = 0;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5">nrfdhi</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// do...while to make sure to at least test ATN once</span></div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            <span class="keywordflow">if</span>(<a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>()) {</div>
<div class="line">        <span class="comment">// ATN got low, exit</span></div>
<div class="line">                <span class="keywordflow">goto</span> atn;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#a65acc4d7d20615c2afa83c766fc7066d">davishi</a>() );</div>
<div class="line"></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee">nrfdlo</a>();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(!<a class="code" href="pet_s_d_2ieeehw_8h.html#ab53f5ca050aeb4857e80c882a0d60047">eoiishi</a>())</div>
<div class="line">                er|=<a class="code" href="pet_s_d_2ieeehw_8h.html#a1fac5cfae9dce30603c5aa84bd96ada0">E_EOI</a>;</div>
<div class="line">        *c=<a class="code" href="pet_s_d_2ieeehw_8h.html#a032ef38b532ab1c8c6460c50d64e4e90">rdd</a>();</div>
<div class="line"></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b">ndachi</a>();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            <span class="keywordflow">if</span>(<a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>()) {</div>
<div class="line">        <span class="comment">// ATN got low, exit</span></div>
<div class="line">                <span class="comment">//break;</span></div>
<div class="line">                <span class="keywordflow">goto</span> atn;</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#ac6a13b081235e6c1a3296e007dfa54f2">davislo</a>() );</div>
<div class="line"></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a63b568de20fee08b85554f43cddd6087">ndaclo</a>();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span>(er);</div>
<div class="line"></div>
<div class="line">atn:</div>
<div class="line">    <span class="comment">// we do not need to do anything,</span></div>
<div class="line">    <span class="comment">// as we already are in listen mode, and the</span></div>
<div class="line">    <span class="comment">// ACK hardware or software has just pulled </span></div>
<div class="line">    <span class="comment">// NRFD and NDAC</span></div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="pet_s_d_2ieeehw_8h.html#a9cd1aa4d73be2b55768b9aed09441bb2">E_ATN</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_cgraph.png" border="0" usemap="#ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_cgraph" alt=""/></div>
<map name="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_cgraph" id="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_cgraph">
<area shape="rect" id="node3" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf" title="atnislo" alt="" coords="109,5,169,33"/><area shape="rect" id="node5" href="pet_s_d_2ieeehw_8h.html#a65acc4d7d20615c2afa83c766fc7066d" title="davishi" alt="" coords="107,57,170,85"/><area shape="rect" id="node7" href="pet_s_d_2ieeehw_8h.html#ac6a13b081235e6c1a3296e007dfa54f2" title="davislo" alt="" coords="107,109,170,137"/><area shape="rect" id="node9" href="pet_s_d_2ieeehw_8h.html#ab53f5ca050aeb4857e80c882a0d60047" title="eoiishi" alt="" coords="109,161,168,189"/><area shape="rect" id="node11" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b" title="ndachi" alt="" coords="108,213,169,241"/><area shape="rect" id="node15" href="pet_s_d_2ieeehw_8h.html#a63b568de20fee08b85554f43cddd6087" title="ndaclo" alt="" coords="108,265,169,293"/><area shape="rect" id="node17" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5" title="nrfdhi" alt="" coords="111,317,166,345"/><area shape="rect" id="node20" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee" title="nrfdlo" alt="" coords="111,369,166,397"/><area shape="rect" id="node22" href="pet_s_d_2ieeehw_8h.html#a032ef38b532ab1c8c6460c50d64e4e90" title="rdd" alt="" coords="118,421,159,449"/><area shape="rect" id="node13" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f" title="atnishi" alt="" coords="219,265,279,293"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_icgraph.png" border="0" usemap="#ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_icgraph" alt=""/></div>
<map name="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_icgraph" id="ieee_8c_a6a2c013e9a773a7b86691d19a3780b57_icgraph">
<area shape="rect" id="node3" href="ieee_8c.html#a4701558a7300ca20b3519287feb05bc1" title="listenloop" alt="" coords="106,5,184,33"/><area shape="rect" id="node5" href="ieee_8h.html#a47341f8a6f71378581fb6a67ece35ed2" title="ieee_mainloop_iteration" alt="" coords="232,5,395,33"/><area shape="rect" id="node7" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="443,5,493,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4701558a7300ca20b3519287feb05bc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void listenloop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00103">103</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>References <a class="el" href="bus_8c_source.html#l00218">bus_sendbyte()</a>, <a class="el" href="debug_8h_source.html#l00038">debug_putc()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00040">E_ATN</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00041">E_EOI</a>, <a class="el" href="ieee_8c_source.html#l00061">liecin()</a>, <a class="el" href="ieee_8c_source.html#l00053">par_status</a>, and <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00240">setidle</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00211">ieee_mainloop_iteration()</a>.</p>
<div class="fragment"><div class="line">                  {</div>
<div class="line"><span class="preprocessor">#ifdef DEBUG_BUS</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d">debug_putc</a>(<span class="charliteral">&#39;L&#39;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordtype">int</span> er, c;</div>
<div class="line">        <span class="keywordflow">while</span>(((er=<a class="code" href="ieee_8c.html#a6a2c013e9a773a7b86691d19a3780b57">liecin</a>(&amp;c))&amp;<a class="code" href="pet_s_d_2ieeehw_8h.html#a9cd1aa4d73be2b55768b9aed09441bb2">E_ATN</a>)!=E_ATN) {</div>
<div class="line">            <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> = <a class="code" href="bus_8c.html#a806cd6e423cc44a02552ed725d28ed7a">bus_sendbyte</a>(&amp;<a class="code" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a>, c, er &amp; <a class="code" href="pet_s_d_2ieeehw_8h.html#a1fac5cfae9dce30603c5aa84bd96ada0">E_EOI</a>);</div>
<div class="line">        }</div>
<div class="line">    <span class="comment">// if did not stop due to ATN, set to idle,</span></div>
<div class="line">    <span class="comment">// otherwise stay in rx mode</span></div>
<div class="line">    <span class="keywordflow">if</span> (er != E_ATN) {</div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a4b72a26cfb49a75da80921fdb817c93b">setidle</a>();</div>
<div class="line">    }</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a4701558a7300ca20b3519287feb05bc1_cgraph.png" border="0" usemap="#ieee_8c_a4701558a7300ca20b3519287feb05bc1_cgraph" alt=""/></div>
<map name="ieee_8c_a4701558a7300ca20b3519287feb05bc1_cgraph" id="ieee_8c_a4701558a7300ca20b3519287feb05bc1_cgraph">
<area shape="rect" id="node3" href="bus_8c.html#a806cd6e423cc44a02552ed725d28ed7a" title="bus_sendbyte" alt="" coords="130,206,235,234"/><area shape="rect" id="node27" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d" title="debug_putc" alt="" coords="137,265,228,293"/><area shape="rect" id="node39" href="ieee_8c.html#a6a2c013e9a773a7b86691d19a3780b57" title="liecin" alt="" coords="157,499,209,527"/><area shape="rect" id="node5" href="channel_8c.html#a5bfb7b380fbcb047cb5b839823ed019d" title="channel_put" alt="" coords="429,167,523,195"/><area shape="rect" id="node7" href="channel_8c.html#aa864b0a122d5e1fffd0035ba0778b4ba" title="_push_callback" alt="" coords="611,213,725,241"/><area shape="rect" id="node11" href="delay_8h.html#a304927311300df9e48c410ac5732d173" title="delayms" alt="" coords="633,317,703,345"/><area shape="rect" id="node15" href="packet_8h.html#a89d861cedccb4c116bca4686f5300b03" title="packet_get_contentlen" alt="" coords="590,5,746,33"/><area shape="rect" id="node17" href="packet_8h.html#a7ec26bfc3c2a75c12b2ed9a8d12b5daf" title="packet_is_full" alt="" coords="617,57,719,85"/><area shape="rect" id="node19" href="packet_8h.html#ad61c5a329d6379bd96faf0a29b1b565f" title="packet_reset" alt="" coords="619,109,717,137"/><area shape="rect" id="node21" href="packet_8h.html#a437f19cbea67d2fcceab3daca7999b53" title="packet_set_filled" alt="" coords="608,265,728,293"/><area shape="rect" id="node25" href="packet_8h.html#a16bdf2f8eaed2ccf4712247bc5866e7f" title="packet_write_char" alt="" coords="603,161,733,189"/><area shape="rect" id="node9" href="channel_8c.html#a4f422b28ba066eb1f918ffe5b31955df" title="channel_find" alt="" coords="806,213,903,241"/><area shape="rect" id="node13" href="delay_8h.html#a2a467023822de9459179b4c9a13da0d1" title="serial_delay" alt="" coords="808,317,901,345"/><area shape="rect" id="node23" href="packet_8h.html#ac734d1711836633dfd94a48850b3a7a8" title="packet_set_read" alt="" coords="795,265,915,293"/><area shape="rect" id="node29" href="term_8c.html#ab38e92632b4de8af92283e500910a510" title="term_putc" alt="" coords="282,265,363,293"/><area shape="rect" id="node31" href="packet_8h.html#a2cade8ffc72b19e08f8fbff1ce795417" title="packet_wait_done" alt="" coords="412,317,540,345"/><area shape="rect" id="node36" href="term_8c.html#ad6b6b9297aa30da49f6dc3422bf708a4" title="send" alt="" coords="451,265,501,293"/><area shape="rect" id="node33" href="packet_8h.html#ae18177b6d0283a274422f843fb924d81" title="packet_is_done" alt="" coords="611,369,725,397"/><area shape="rect" id="node41" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf" title="atnislo" alt="" coords="293,629,353,657"/><area shape="rect" id="node43" href="pet_s_d_2ieeehw_8h.html#a65acc4d7d20615c2afa83c766fc7066d" title="davishi" alt="" coords="291,681,354,709"/><area shape="rect" id="node45" href="pet_s_d_2ieeehw_8h.html#ac6a13b081235e6c1a3296e007dfa54f2" title="davislo" alt="" coords="291,733,354,761"/><area shape="rect" id="node47" href="pet_s_d_2ieeehw_8h.html#ab53f5ca050aeb4857e80c882a0d60047" title="eoiishi" alt="" coords="293,317,352,345"/><area shape="rect" id="node49" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b" title="ndachi" alt="" coords="292,421,353,449"/><area shape="rect" id="node53" href="pet_s_d_2ieeehw_8h.html#a63b568de20fee08b85554f43cddd6087" title="ndaclo" alt="" coords="292,473,353,501"/><area shape="rect" id="node55" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5" title="nrfdhi" alt="" coords="295,369,350,397"/><area shape="rect" id="node58" href="pet_s_d_2ieeehw_8h.html#a64088bbcefb9f39f4bcfc5b3dad09dee" title="nrfdlo" alt="" coords="295,525,350,553"/><area shape="rect" id="node60" href="pet_s_d_2ieeehw_8h.html#a032ef38b532ab1c8c6460c50d64e4e90" title="rdd" alt="" coords="302,577,343,605"/><area shape="rect" id="node51" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f" title="atnishi" alt="" coords="446,395,506,423"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_a4701558a7300ca20b3519287feb05bc1_icgraph.png" border="0" usemap="#ieee_8c_a4701558a7300ca20b3519287feb05bc1_icgraph" alt=""/></div>
<map name="ieee_8c_a4701558a7300ca20b3519287feb05bc1_icgraph" id="ieee_8c_a4701558a7300ca20b3519287feb05bc1_icgraph">
<area shape="rect" id="node3" href="ieee_8h.html#a47341f8a6f71378581fb6a67ece35ed2" title="ieee_mainloop_iteration" alt="" coords="131,5,293,33"/><area shape="rect" id="node5" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="342,5,392,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab59fb97f896fd24eb381d95aef1f098"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void talkloop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardware-independent IEEE layer </p>

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00121">121</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>References <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00052">atnislo()</a>, <a class="el" href="bus_8c_source.html#l00242">bus_receivebyte()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00122">davhi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00118">davlo()</a>, <a class="el" href="debug_8h_source.html#l00041">debug_flush</a>, <a class="el" href="debug_8h_source.html#l00038">debug_putc()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00041">E_EOI</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00044">E_NODEV</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00143">eoihi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00138">eoilo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00103">ndacishi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00099">ndacislo()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00112">nrfdishi()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00108">nrfdislo()</a>, <a class="el" href="ieee_8c_source.html#l00053">par_status</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00240">setidle</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00225">setrx()</a>, <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00207">settx()</a>, and <a class="el" href="pet_s_d_2ieeehw_8h_source.html#l00191">wrd()</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00211">ieee_mainloop_iteration()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">        int16_t er <span class="comment">/*,sec*/</span>;</div>
<div class="line">        uint8_t c;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef DEBUG_BUS</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d">debug_putc</a>(<span class="charliteral">&#39;T&#39;</span>); <a class="code" href="debug_8h.html#a341c655e62477257e0e36ddecf00e2d3">debug_flush</a>();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        <a class="code" href="pet_s_d_2ieeehw_8h.html#ab3d4a8e2f287ad43ea26242b6c1b2b20">settx</a>();            <span class="comment">/* enables sending */</span></div>
<div class="line"></div>
<div class="line">        er=0;</div>
<div class="line">        <span class="comment">/*sec=secadr&amp;0x0f;*/</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">while</span> (!er) {</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* wait nrfd hi */</span></div>
<div class="line">            <span class="keywordflow">do</span> {</div>
<div class="line">                <span class="keywordflow">if</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>() ) {</div>
<div class="line">            <span class="keywordflow">goto</span> atn;</div>
<div class="line">        }</div>
<div class="line">            } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#a0f04801a30bf1acf250e8442cb4b91a1">nrfdislo</a>() );</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* write data &amp; eoi */</span></div>
<div class="line">            <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> = <a class="code" href="bus_8c.html#ab043e7626a61171d009fd5bec94ff7ec">bus_receivebyte</a>(&amp;<a class="code" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a>, &amp;c, 1);</div>
<div class="line">            <span class="keywordflow">if</span>(<a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> &amp; 0x40)</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="pet_s_d_2ieeehw_8h.html#a282c35c59299579a110ecd7007e2a1b8">eoilo</a>();</div>
<div class="line">                er|=<a class="code" href="pet_s_d_2ieeehw_8h.html#a1fac5cfae9dce30603c5aa84bd96ada0">E_EOI</a>;</div>
<div class="line">            }</div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a821c6ef0c9d5c114b146e9a0db1b307e">wrd</a>(c);</div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a522ea5a5398f0726d6f55c4c1c2c0091">davlo</a>();</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* wait nrfd lo */</span></div>
<div class="line">            <span class="keywordflow">do</span> {</div>
<div class="line">                <span class="keywordflow">if</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>() ) {</div>
<div class="line">            <span class="keywordflow">goto</span> atn;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#adea57fe5f4fd89bcd11f4f8ad419734b">ndacishi</a>() &amp;&amp; <a class="code" href="pet_s_d_2ieeehw_8h.html#a0fffba9ddab5e78e3c1a48bb4c62321d">nrfdishi</a>() ) {</div>
<div class="line">                    <a class="code" href="pet_s_d_2ieeehw_8h.html#af573c7c2bfaf66f736dba5fc3f0ae11f">eoihi</a>();</div>
<div class="line">                    <a class="code" href="pet_s_d_2ieeehw_8h.html#a7bda170819f89d279000f29713ab2c00">davhi</a>();</div>
<div class="line">            er |= <a class="code" href="pet_s_d_2ieeehw_8h.html#a045f545f616c240066f0ed868f87deb8">E_NODEV</a>;</div>
<div class="line">            <span class="keywordflow">goto</span> idle;</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#a0fffba9ddab5e78e3c1a48bb4c62321d">nrfdishi</a>() );</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* wait ndac hi */</span></div>
<div class="line">            <span class="keywordflow">do</span> {</div>
<div class="line">                <span class="keywordflow">if</span> ( <a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>() ) {</div>
<div class="line">            <span class="comment">// ATN got low</span></div>
<div class="line">                    <span class="keywordflow">goto</span> atn;</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#a56655f384a037e1cc6db7a6b09fb0c34">ndacislo</a>() );</div>
<div class="line"></div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#a7bda170819f89d279000f29713ab2c00">davhi</a>();</div>
<div class="line">            <a class="code" href="pet_s_d_2ieeehw_8h.html#af573c7c2bfaf66f736dba5fc3f0ae11f">eoihi</a>();</div>
<div class="line">            <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> = <a class="code" href="bus_8c.html#ab043e7626a61171d009fd5bec94ff7ec">bus_receivebyte</a>(&amp;<a class="code" href="ieee_8c.html#ad75cc85b4588ff490a11c08232d0fc96">bus</a>, &amp;c, 0);</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* wait ndac lo */</span></div>
<div class="line">            <span class="keywordflow">if</span>( <a class="code" href="ieee_8c.html#af360e144b776e75e965032779bd0172f">par_status</a> &amp; 0xff ) {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="keywordflow">do</span> {</div>
<div class="line">                    <span class="keywordflow">if</span> ( <a class="code" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf">atnislo</a>() ) {</div>
<div class="line">                        <span class="keywordflow">goto</span> atn;</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">while</span>( <a class="code" href="pet_s_d_2ieeehw_8h.html#adea57fe5f4fd89bcd11f4f8ad419734b">ndacishi</a>() );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    <span class="comment">// no ATN, so set bus to idle</span></div>
<div class="line">    <a class="code" href="pet_s_d_2ieeehw_8h.html#a4b72a26cfb49a75da80921fdb817c93b">setidle</a>();</div>
<div class="line">        <span class="keywordflow">return</span>; <span class="comment">//(er&amp;(E_EOI));</span></div>
<div class="line"></div>
<div class="line">atn:</div>
<div class="line">    <span class="comment">// sets IEEE488 back to receive mode</span></div>
<div class="line">        <a class="code" href="pet_s_d_2ieeehw_8h.html#a59b35866586d272493e64f1eee1abdf6">setrx</a>();</div>
<div class="line">        <span class="keywordflow">return</span>; <span class="comment">//(er&amp;(E_EOI));</span></div>
<div class="line"></div>
<div class="line">idle:</div>
<div class="line">    <span class="comment">// after EOF we set bus to idle</span></div>
<div class="line">    <a class="code" href="pet_s_d_2ieeehw_8h.html#a4b72a26cfb49a75da80921fdb817c93b">setidle</a>();</div>
<div class="line">        <span class="keywordflow">return</span>; <span class="comment">//(er&amp;(E_EOI));</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_cgraph.png" border="0" usemap="#ieee_8c_aab59fb97f896fd24eb381d95aef1f098_cgraph" alt=""/></div>
<map name="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_cgraph" id="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_cgraph">
<area shape="rect" id="node3" href="pet_s_d_2ieeehw_8h.html#ae17fb681f57d1c404861a28cf8d06ebf" title="atnislo" alt="" coords="150,265,210,293"/><area shape="rect" id="node5" href="bus_8c.html#ab043e7626a61171d009fd5bec94ff7ec" title="bus_receivebyte" alt="" coords="121,317,239,345"/><area shape="rect" id="node74" href="pet_s_d_2ieeehw_8h.html#a7bda170819f89d279000f29713ab2c00" title="davhi" alt="" coords="341,654,395,682"/><area shape="rect" id="node76" href="pet_s_d_2ieeehw_8h.html#a522ea5a5398f0726d6f55c4c1c2c0091" title="davlo" alt="" coords="153,525,207,553"/><area shape="rect" id="node78" href="debug_8h.html#a5b082d074ba501fcb65a5b280331405d" title="debug_putc" alt="" coords="134,473,226,501"/><area shape="rect" id="node88" href="pet_s_d_2ieeehw_8h.html#af573c7c2bfaf66f736dba5fc3f0ae11f" title="eoihi" alt="" coords="343,887,393,915"/><area shape="rect" id="node90" href="pet_s_d_2ieeehw_8h.html#a282c35c59299579a110ecd7007e2a1b8" title="eoilo" alt="" coords="155,679,205,707"/><area shape="rect" id="node92" href="pet_s_d_2ieeehw_8h.html#adea57fe5f4fd89bcd11f4f8ad419734b" title="ndacishi" alt="" coords="333,706,403,734"/><area shape="rect" id="node94" href="pet_s_d_2ieeehw_8h.html#a56655f384a037e1cc6db7a6b09fb0c34" title="ndacislo" alt="" coords="145,783,215,811"/><area shape="rect" id="node96" href="pet_s_d_2ieeehw_8h.html#a0fffba9ddab5e78e3c1a48bb4c62321d" title="nrfdishi" alt="" coords="148,835,212,863"/><area shape="rect" id="node98" href="pet_s_d_2ieeehw_8h.html#a0f04801a30bf1acf250e8442cb4b91a1" title="nrfdislo" alt="" coords="148,887,212,915"/><area shape="rect" id="node100" href="pet_s_d_2ieeehw_8h.html#a59b35866586d272493e64f1eee1abdf6" title="setrx" alt="" coords="155,991,205,1019"/><area shape="rect" id="node112" href="pet_s_d_2ieeehw_8h.html#ab3d4a8e2f287ad43ea26242b6c1b2b20" title="settx" alt="" coords="155,731,205,759"/><area shape="rect" id="node120" href="pet_s_d_2ieeehw_8h.html#a821c6ef0c9d5c114b146e9a0db1b307e" title="wrd" alt="" coords="159,1043,201,1071"/><area shape="rect" id="node7" href="bus_8h.html#a95f026261f222ee259b8d615f8494ab4" title="bus_secaddr_adjust" alt="" coords="298,57,438,85"/><area shape="rect" id="node9" href="channel_8c.html#a27276c04c9964ae01dc04f436f57115b" title="channel_close" alt="" coords="519,109,625,137"/><area shape="rect" id="node30" href="channel_8c.html#ab251327a6bfb5495a6f0c4e86b2b4a6d" title="channel_current_byte" alt="" coords="293,265,443,293"/><area shape="rect" id="node44" href="channel_8h.html#a67933e90bf107059d7c8b99b303414e6" title="channel_current_is_eof" alt="" coords="288,161,448,189"/><area shape="rect" id="node48" href="channel_8c.html#a36f99405322341c5ec6190ad7df984e8" title="channel_has_more" alt="" coords="301,317,435,345"/><area shape="rect" id="node53" href="channel_8c.html#ab788bfc67eced677c3e8f3b5f4c25d9c" title="channel_next" alt="" coords="318,421,418,449"/><area shape="rect" id="node60" href="channel_8c.html#ac42b73ef4fb417f5eae59ce4bcc34da1" title="channel_preloadp" alt="" coords="304,369,432,397"/><area shape="rect" id="node63" href="channel_8c.html#a5eb3ce54c85a9984a99446a4bd7cc180" title="channel_refill" alt="" coords="522,213,622,241"/><area shape="rect" id="node70" href="errormsg_8h.html#aaa86d4da98675a27e26141f19fadc907" title="set_error" alt="" coords="331,498,405,526"/><area shape="rect" id="node11" href="channel_8c.html#aa864b0a122d5e1fffd0035ba0778b4ba" title="_push_callback" alt="" coords="718,109,831,137"/><area shape="rect" id="node13" href="channel_8c.html#a4f422b28ba066eb1f918ffe5b31955df" title="channel_find" alt="" coords="913,83,1010,111"/><area shape="rect" id="node15" href="channel_8c.html#a7e98d9edd07cfa978bedfa82abf9953e" title="channel_close_int" alt="" coords="711,213,839,241"/><area shape="rect" id="node20" href="delay_8h.html#a304927311300df9e48c410ac5732d173" title="delayms" alt="" coords="739,265,810,293"/><area shape="rect" id="node24" href="packet_8h.html#a89d861cedccb4c116bca4686f5300b03" title="packet_get_contentlen" alt="" coords="697,5,852,33"/><area shape="rect" id="node26" href="packet_8h.html#a437f19cbea67d2fcceab3daca7999b53" title="packet_set_filled" alt="" coords="901,369,1022,397"/><area shape="rect" id="node17" href="packet_8h.html#a2bd7a0617b2976ef62464f7e3cbcaada" title="packet_init" alt="" coords="919,213,1004,241"/><area shape="rect" id="node22" href="delay_8h.html#a2a467023822de9459179b4c9a13da0d1" title="serial_delay" alt="" coords="915,265,1008,293"/><area shape="rect" id="node28" href="packet_8h.html#ac734d1711836633dfd94a48850b3a7a8" title="packet_set_read" alt="" coords="1069,369,1189,397"/><area shape="rect" id="node32" href="channel_8c.html#ae7784dd177e78324ea066e9a2e475737" title="channel_preload_int" alt="" coords="501,369,643,397"/><area shape="rect" id="node42" href="packet_8h.html#a3a738b87a4697d5c841bbac110b4fc75" title="packet_peek_data" alt="" coords="507,265,637,293"/><area shape="rect" id="node34" href="channel_8c.html#ad83a55f9935cdd471dc212f4ec6c7a6d" title="channel_pull" alt="" coords="727,369,823,397"/><area shape="rect" id="node38" href="packet_8h.html#addb176aaaeddd33017a9c51693dc4510" title="packet_has_data" alt="" coords="713,317,836,345"/><area shape="rect" id="node40" href="packet_8h.html#a23092de9747c65e9bbbe4516a23056a0" title="packet_is_last" alt="" coords="722,421,828,449"/><area shape="rect" id="node46" href="packet_8h.html#a477da849971659985201df01c17bb864" title="packet_current_is_eof" alt="" coords="496,161,648,189"/><area shape="rect" id="node51" href="packet_8h.html#a20bc11a9cb93f05ea36f126d3e44086e" title="packet_is_eof" alt="" coords="520,317,624,345"/><area shape="rect" id="node58" href="packet_8h.html#a4cb17d0b158d95f2c9fc566c88a6a48d" title="packet_next" alt="" coords="525,473,619,501"/><area shape="rect" id="node72" href="errormsg_8c.html#adaf0ba8d19c41eda11dbdeade76a43a6" title="set_error_ts" alt="" coords="526,577,618,605"/><area shape="rect" id="node80" href="term_8c.html#ab38e92632b4de8af92283e500910a510" title="term_putc" alt="" coords="328,602,408,630"/><area shape="rect" id="node82" href="packet_8h.html#a2cade8ffc72b19e08f8fbff1ce795417" title="packet_wait_done" alt="" coords="508,629,636,657"/><area shape="rect" id="node85" href="term_8c.html#ad6b6b9297aa30da49f6dc3422bf708a4" title="send" alt="" coords="750,577,800,605"/><area shape="rect" id="node103" href="pet_s_d_2ieeehw_8h.html#acd8543515370931287eeaef5518c67a5" title="nrfdhi" alt="" coords="341,939,395,967"/><area shape="rect" id="node107" href="pet_s_d_2ieeehw_8h.html#a2ae1348f0bc94968d1351ba89158ab7b" title="ndachi" alt="" coords="338,991,398,1019"/><area shape="rect" id="node110" href="pet_s_d_2ieeehw_8h.html#ad3bad667457059c4f61b7c16aa5ec11a" title="telo" alt="" coords="347,1043,389,1071"/><area shape="rect" id="node105" href="pet_s_d_2ieeehw_8h.html#a9ca91e410e3f0d28aa91f203db42e21f" title="atnishi" alt="" coords="542,939,602,967"/><area shape="rect" id="node116" href="pet_s_d_2ieeehw_8h.html#aede8e9cdee6b35ad5b01708651c9d0da" title="tehi" alt="" coords="347,810,389,838"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_icgraph.png" border="0" usemap="#ieee_8c_aab59fb97f896fd24eb381d95aef1f098_icgraph" alt=""/></div>
<map name="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_icgraph" id="ieee_8c_aab59fb97f896fd24eb381d95aef1f098_icgraph">
<area shape="rect" id="node3" href="ieee_8h.html#a47341f8a6f71378581fb6a67ece35ed2" title="ieee_mainloop_iteration" alt="" coords="120,5,283,33"/><area shape="rect" id="node5" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="331,5,381,33"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ad75cc85b4588ff490a11c08232d0fc96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbus__t.html">bus_t</a> bus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00050">50</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>Referenced by <a class="el" href="bus_8c_source.html#l00132">cmd_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="af360e144b776e75e965032779bd0172f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int16_t par_status = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ieee_8c_source.html#l00053">53</a> of file <a class="el" href="ieee_8c_source.html">ieee.c</a>.</p>

<p>Referenced by <a class="el" href="ieee_8c_source.html#l00211">ieee_mainloop_iteration()</a>, <a class="el" href="ieee_8c_source.html#l00103">listenloop()</a>, and <a class="el" href="ieee_8c_source.html#l00121">talkloop()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 4 2012 04:34:51 for XD2031 firmware by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
